<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>WhiteLake- Walkthrough</title>
    <meta name="description" content="White lake Technologies Pvt Ltd">
    <meta name="author" content="Kumar Ahir - VR Designer">
    <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-animation-component@^4.1.2/dist/aframe-animation-component.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.5.1/dist/aframe-look-at-component.min.js"></script>
    <script>
      AFRAME.registerComponent('hotspots',{
        init:function(){
            this.el.addEventListener('reloadspots',function(evt){
            
            //get the entire current spot group and scale it to 0
            var currspotgroup=document.getElementById(evt.detail.currspots);
            currspotgroup.setAttribute("scale","0 0 0");
            
            //get the entire new spot group and scale it to 1
            var newspotgroup=document.getElementById(evt.detail.newspots);
            newspotgroup.setAttribute("scale","1 1 1");
          });
        }
      });
      AFRAME.registerComponent('spot',{
        schema:{
          linkto:{type:"string",default:""},
          spotgroup:{type:"string",default:""}
        },
        init:function(){
          
          //add image source of hotspot icon
          this.el.setAttribute("src","#hotspot");
          //make the icon look at the camera all the time
          this.el.setAttribute("look-at","#cam");
          
          var data=this.data;
          
          this.el.addEventListener('click',function(){
            //set the skybox source to the new image as per the spot
            var sky=document.getElementById("skybox");
            sky.setAttribute("src",data.linkto);
            
            var spotcomp=document.getElementById("spots");
            var currspots=this.parentElement.getAttribute("id");
            //create event for spots component to change the spots data
            spotcomp.emit('reloadspots',{newspots:data.spotgroup,currspots:currspots});
          });
        }
      });
    </script>
  </head>
  <body>
  
   
        <a-scene cursor="rayOrigin: mouse" camera-position>
      <a-assets>
        
        
        <img id="point1" src="https://cdn.glitch.com/09453a71-c4d7-4a11-87c3-7899b4d1766d%2Fs0.jpg?v=1582697647647"/> 
       <img id="point2" src="https://cdn.glitch.com/09453a71-c4d7-4a11-87c3-7899b4d1766d%2Fs1.jpg?v=1582691923804"/> 
        <img id="point3" src="https://cdn.glitch.com/09453a71-c4d7-4a11-87c3-7899b4d1766d%2Fs2.jpg?v=1582691928423"/> 
        <img id="point4" src="https://cdn.glitch.com/09453a71-c4d7-4a11-87c3-7899b4d1766d%2Fs3.jpg?v=1582691923158"/> 
        <img id="point5" src="https://cdn.glitch.com/09453a71-c4d7-4a11-87c3-7899b4d1766d%2Fs4.jpg?v=1582691924208"/> 
        <img id="point6" src="https://cdn.glitch.com/09453a71-c4d7-4a11-87c3-7899b4d1766d%2Fs5.jpg?v=1582691926210"/> 
        <img id="point7" src="https://cdn.glitch.com/09453a71-c4d7-4a11-87c3-7899b4d1766d%2Fs6.JPG?v=1582691923283"/> 
         <img id="point8" src="https://cdn.glitch.com/09453a71-c4d7-4a11-87c3-7899b4d1766d%2Fs6.JPG?v=1582691923283"/> 
        <img id="point9" src="https://cdn.glitch.com/09453a71-c4d7-4a11-87c3-7899b4d1766d%2Fs6.JPG?v=1582691923283"/> 
        
        <img id="point10" src="https://cdn.glitch.com/09453a71-c4d7-4a11-87c3-7899b4d1766d%2Fk1.jpg?v=1583411162731"/> 
        
        
        
        
        
        <img id="hotspot" src="https://cdn.glitch.com/09453a71-c4d7-4a11-87c3-7899b4d1766d%2Fdot.png?v=1583224604650"/>
        
        
        
   
       
      </a-assets>
      
      
    
      
      <a-entity id="spots" hotspots>
        
        <a-entity id="group-point1">
          <a-image spot="linkto:#point2;spotgroup:group-point2" position="-10 2 2"></a-image>
          <a-image spot="linkto:#point10;spotgroup:group-point10" position="-7 3 8"></a-image>
          <a-image spot="linkto:#point2;spotgroup:group-point2" position="-7 3 8"></a-image>
          
          
          
           <a-text value="Office" position="1 0 0"></a-text>
        
        
        </a-entity>
        
               
              
        <a-entity id="group-point2" scale="0 0 0">
          <a-image spot="linkto:#point1;spotgroup:group-point1" position="10 2 -1"></a-image>
          <a-image spot="linkto:#point3;spotgroup:group-point3" position="-9 2 0"></a-image>
          <a-image spot="linkto:#point9;spotgroup:group-point9" position="9 2 0"></a-image>
          
        </a-entity>
        
    
        <a-entity id="group-point3" scale="0 0 0">
          <a-image spot="linkto:#point2;spotgroup:group-point2" position="10 2 -1"></a-image>
          <a-image spot="linkto:#point4;spotgroup:group-point4" position="-12 1 1"></a-image>
        </a-entity>
        <a-entity id="group-point4" scale="0 0 0">
          <a-image spot="linkto:#point3;spotgroup:group-point3" position="10 0 -2"></a-image>
          <a-image spot="linkto:#point5;spotgroup:group-point5" position="-12 1 1"></a-image>
        </a-entity>
        <a-entity id="group-point5" scale="0 0 0">
          <a-image spot="linkto:#point4;spotgroup:group-point4" position="10 0 -2"></a-image>
          <a-image spot="linkto:#point6;spotgroup:group-point6" position="-12 1 1"></a-image>
          
        </a-entity>
        
        
        <a-entity id="group-point6" scale="0 0 0">
          <a-image spot="linkto:#point5;spotgroup:group-point5" position="-2 0 -20"></a-image>
          <a-image spot="linkto:#point7;spotgroup:group-point7" position="-7 2 1"></a-image>
   
        </a-entity>
        
        
        <a-entity id="group-point7" scale="0 0 0">
              
               <a-image spot="linkto:#point6;spotgroup:group-point6" position="-8 1 -10"></a-image>
          
        </a-entity>
        
        
        
        
     
        

      </a-entity>
      
      <a-sky id="skybox" src="#point1"></a-sky>
      
      <a-entity id="cam" camera position="-5 1.6 0" look-controls>
        <a-entity cursor="fuse:true;fuseTimeout:2000"
                  geometry="primitive:ring;radiusInner:0.01;radiusOuter:0.01"
                  position="0 0 -1.8"
                  material="shader:flat;color:#1b79c9"
                  animation__mouseenter="property:scale;to:3 3 3;startEvents:mouseenter;endEvents:mouseleave;dir:reverse;dur:1000;loop:1" >
        </a-entity>
      </a-entity>
          
          
          
      
    </a-scene>
  </body>
</html>